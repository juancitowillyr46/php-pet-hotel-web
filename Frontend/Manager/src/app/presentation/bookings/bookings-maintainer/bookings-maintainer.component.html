<div class="data-table-area">
    <div class="container-fluid">
        <div class="row">
            <div class="col-12">
                <div class="page-title-box d-flex align-items-center justify-content-between">
                    <h4 class="mb-0 font-18">{{ data.title }}</h4>
                    <div class="page-title-right">
                        <ol class="breadcrumb m-0">
                            <li class="breadcrumb-item"><a href="javascript: void(0);">Módulos</a></li>
                            <li class="breadcrumb-item active">Compras</li>
                        </ol>
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
          
          <div class="col-12 box-margin">
            <form class="form-inline">
              <label class="my-1 mr-sm-2" for="inlineFormCustomSelectPref">Fecha Desde: </label>
              <div class="input-group">
                <input class="form-control" placeholder="yyyy-mm-dd"
                       name="dp" [displayMonths]="displayMonths" [navigation]="navigation" [outsideDays]="outsideDays"
                       [showWeekNumbers]="showWeekNumbers" ngbDatepicker #d="ngbDatepicker" placeholder="yyyy-mm-dd" [ngModelOptions]="{standalone: true}" [(ngModel)]="dateFrom">
                <div class="input-group-append">
                  <button class="btn btn-outline-secondary calendar mr-1" (click)="d.toggle()" type="button"><fa-icon [icon]="['fas', 'calendar']" class="mr-1"></fa-icon></button>
                </div>
              </div>

              <label class="my-1 mr-sm-2" for="inlineFormCustomSelectPref">Fecha Hasta: </label>
              <div class="input-group">
                <input class="form-control" placeholder="yyyy-mm-dd"
                       name="dp" [displayMonths]="displayMonths" [navigation]="navigation" [outsideDays]="outsideDays"
                       [showWeekNumbers]="showWeekNumbers" ngbDatepicker #dd="ngbDatepicker" placeholder="yyyy-mm-dd" [ngModelOptions]="{standalone: true}" [(ngModel)]="dateTo">
                <div class="input-group-append">
                  <button class="btn btn-outline-secondary calendar mr-1" (click)="dd.toggle()" type="button"><fa-icon [icon]="['fas', 'calendar']" class="mr-1"></fa-icon></button>
                </div>
              </div>

              <label class="my-1 mr-2" for="inlineFormCustomSelectPref">Estado: </label>
              <select class="form-control my-1 mr-sm-2" id="inlineFormCustomSelectPref" [ngModelOptions]="{standalone: true}" [(ngModel)]="stateId">
                <option selected disabled>Estado</option>
                <option value="0">TODOS</option>
                <option value="1">CONFIRMADO</option>
                <option value="2">PENDIENTE</option>
              </select>
              
              <button class="btn btn-success" (click)="search()">Buscar</button>
            </form>
          </div>

            <div class="col-12 box-margin">
                <div class="card">
                    <div class="card-body">
                      <!-- (click)="onClickAdd()"  -->
                      <div class="d-flex pb-2">
                        <div class="btn-group btn-group-toggle" ngbRadioGroup name="radioBasic"> 
                          <!-- <label class="btn-primary" ngbButtonLabel placement="top" ngbTooltip="Crear" (click)="onClickModalStore('')">
                            <a href="javascript:void(0)" class="text-white" ngbButton > 
                              <i class="ti-plus"></i>
                            </a>
                          </label> -->
                          <label class="btn-primary" ngbButtonLabel placement="top" ngbTooltip="Actualizar">
                            <a href="javascript:void(0)" class="text-white" ngbButton (click)="onClickRefresh()"> 
                              <fa-icon [icon]="['fas', 'sync']" class="mr-1" [pulse]="loadData"></fa-icon>
                            </a>
                          </label>
                          <!-- <label class="btn-primary" ngbButtonLabel ngbTooltip="Exportar">
                            <a href="javascript:void(0)" class="text-white" ngbButton> 
                              <fa-icon [icon]="['fas', 'download']" class="mr-1" ></fa-icon>
                            </a>
                          </label> -->
                        </div>
                      </div>
                        <table class="table table-striped">
                            <thead>
                            <tr>
                              <th scope="col">Cliente</th>
                              <!-- <th scope="col">Canil</th> -->
                              <th scope="col">Desde</th>
                              <th scope="col">Hasta</th>
                              <th scope="col">Mascota</th>
                              
                              <th scope="col">Estado</th>
                              <th scope="col">Fecha creación</th>
                              <th></th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr *ngFor="let row of dataRows">
                              <td width="14%">
                                {{ row.customerName }}
                              </td>
                              <td width="14%">
                                {{ row.dateFrom }}
                              </td>
                              <td width="14%">
                                {{ row.dateTo }}
                              </td>
                              <td width="14%">
                                {{ row.petName }}
                              </td>
                              
                              <td width="14%">
                                <a class="badge badge-pill badge-warning" *ngIf="row.stateName === 'PENDIENTE'">
                                  <div class="text-dark">
                                    {{ row.stateName }}
                                  </div>
                                </a>
                                <a class="badge badge-pill badge-success" *ngIf="row.stateName === 'CONFIRMADO'">
                                  <div class="text-white">
                                    {{ row.stateName }}
                                  </div>
                                </a>
                                <a class="badge badge-pill badge-danger" *ngIf="row.stateName === 'CANCELADA'">
                                  <div class="text-white">
                                    {{ row.stateName }}
                                  </div>
                                </a>
                                <a class="badge badge-pill badge-secondary" *ngIf="row.stateName === 'TERMINADA'">
                                  <div class="text-white">
                                    {{ row.stateName }}
                                  </div>
                                </a>
                              </td>
                              <td width="14%">
                                {{ row.createdAt }}
                              </td>
                              
                              <td width="10%" align="center">
                                <div class="btn-group btn-group-toggle" ngbRadioGroup name="radioBasic"> 
                                  <label class="btn-primary" ngbButtonLabel placement="top" ngbTooltip="Editar" (click)="onClickModalStore(row.id)">
                                    <a href="javascript:void(0)" ngbButton class="text-white">
                                      <fa-icon [icon]="['fas', 'pencil-alt']" class="mr-1"></fa-icon>
                                    </a>
                                  </label>
                                  <label class="btn-primary" ngbButtonLabel placement="top" ngbTooltip="Ver detalle" (click)="openDetail(row.id)">
                                    <a href="javascript:void(0)" ngbButton class="text-white">
                                      <fa-icon [icon]="['fas', 'eye']" class="mr-1"  ></fa-icon>
                                    </a>
                                  </label>
                                  <!-- <label class="btn-primary" ngbButtonLabel placement="top" ngbTooltip="Eliminar" (click)="onClickRemove(row.id)">
                                    <a href="javascript:void(0)" ngbButton class="text-white">
                                      <fa-icon [icon]="['fas', 'trash']" class="mr-1" ></fa-icon>
                                    </a>
                                  </label> -->
                                  
                                </div>
                              </td>
                              
                            </tr>
                            </tbody>
                          </table>
                        
                          <div class="d-flex justify-content-between p-2">
                            <ngb-pagination
                              [collectionSize]="totalRows" [(page)]="currentPage" [pageSize]="totalPages" (pageChange)="onClickPageChange($event)">
                            </ngb-pagination>
                          </div>

                        <!-- <app-modal-purchases></app-modal-purchases> -->
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>